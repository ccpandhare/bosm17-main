<!DOCTYPE html>
<html>
  <head>

    <!-- Meta Tags -->
    <meta charset="utf-8">

    <title>BOSM 2017 | BITS Pilani</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/main.css">

    <!-- jQuery -->
    <script src="js/jquery.js" charset="utf-8"></script>

    <!-- GSAP TweenMax - Reduce to TimelineLite if possible -->
    <script src="js/TweenMax.min.js"></script>

    <!-- ScrollMagic JS Files -->
    <script src="js/ScrollMagic.min.js"></script>
    <script src="js/debug.addIndicators.min.js"></script>
    <script src="js/animation.gsap.js"></script>

  </head>
  <body>

    <!-- Begin Scenes -->

    <div class="scene" id="sceneOut">
      include "svg/out.svg"
    </div>

    <div class="scene" id="sceneIn">
      include "svg/in.svg"
    </div>

    <div class="scene" id="sceneTorch">
      include "svg/torch.svg"
    </div>

    <div class="scene" id="sceneFinal">
      include "svg/final.svg"
    </div>

    <!-- Main Script -->
    <script type="text/javascript">
      $(function(){

        // Make SVGs span entire div + a greedy bugfix
        $('svg').each(function(){
          this.setAttribute('preserveAspectRatio','xMidYMid slice');
          $(this).parent().css('margin-bottom','-10px');
        });

        // Start a ScrollMagic controller
        var controller = new ScrollMagic.Controller();

        // Define a Scene Genrator Function
        function createScene(selector) {
          return new ScrollMagic.Scene({
            triggerElement: selector,
            triggerHook: 0, // trigger when top of SVG touches top of screen
            duration: $(selector).height(), // duration in pixels
            reverse: true, // reverse animation
            pushFollowers: false // don't push the following elements
          }).setPin(selector) // pin to screen
            .on("end",function(e){
              if(e.scrollDirection == "FORWARD") {
                // directly scroll to next element
              }
              else if(e.scrollDirection == "BACKWARD") {
                // directly scroll to previous element
              }
            })
            .addTo(controller);
        }

        // Initiate ScrollMagic sceneOut and add to controller
        var sceneOut = createScene("#sceneOut");

        // Initiate ScrollMagic sceneIn and add to controller
        var sceneIn = createScene("#sceneIn");

        // Initiate ScrollMagic sceneTorch and add to controller
        var sceneTorch = createScene("#sceneTorch");

        // Initiate ScrollMagic sceneFinal and add to controller
        var sceneFinal = createScene("#sceneFinal");

      });
    </script>
  </body>
</html>
